## Learning from Micronaut-generated Dockerfiles

Let's use the Micronaut Maven plugin to generate a Dockerfile so we can learn how Micronaut uses multistage Docker builds to build the application as a native executable and package it in small runtime container images.

Micronaut uses GraalVM Community Edition as you will see in the `FROM ghcr.io/graalvm/...` statement in the generated Dockerfiles below.

### Default option

Using this command we will see the default Dockerfile generated by Micronaut to build the native executable and package it in a small runtime image.

```shell
mvn mn:dockerfile -Dpackaging=docker-native
```

Here's the [generated default Dockerfile](/_reference/Dockerfile.generated-by-mn-default).

### "Mostly static" option

Using this command we will see how Micronaut generates a “mostly static” native executable and packages it in a distroless base image.

```shell
mvn mn:dockerfile -Dpackaging=docker-native -Dmicronaut.native-image.base-image-run=gcr.io/distroless/base -Pgraalvm
```

Notice the `-H:+StaticExecutableWithDynamicLibC` in the [generated "mostly static" Dockerfile](/_reference/Dockerfile.generated-by-mn-mostly-static).